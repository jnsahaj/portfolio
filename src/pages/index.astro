---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";
import { Icon } from "astro-icon/components";
import StargazersCount from "../components/StargazersCount.tsx";

const links = [
    { label: "Github", href: "https://github.com/jnsahaj" },
    { label: "LinkedIn", href: "https://www.linkedin.com/in/sahaj-jain-9099641ab/" },
    { label: "Email", href: "mailto:sahajjain13+business@gmail.com" },
    { label: "Twitter", href: "https://x.com/iamsahaj_xyz" },
];

const blogEntries = await getCollection("blog");
const availableBlogEntries = blogEntries.filter((entry) => {
    return import.meta.env.PROD ? !entry.data?.draft : true;
});

availableBlogEntries.sort((a, b) =>
    a.data.publishDate < b.data.publishDate ? 1 : a.data.publishDate > b.data.publishDate ? -1 : 0,
);
---

<Layout title="Sahaj Jain">
    <main class="mt-16 md:text-base lg:text-lg text-zinc-300">
        <div class="flex items-center justify-between">
            <a href="https://x.com/iamsahaj_xyz">
                <div class="flex items-center gap-3">
                    <img
                        src="https://pbs.twimg.com/profile_images/1954573702768504833/LW-j7iTr_400x400.jpg"
                        class="w-14 h-14 rounded-full object-cover"
                    />
                    <h2 class="text-3xl text-white font-bold">Sahaj Jain</h2>
                </div>
            </a>
            <div class="flex items-center gap-3">
                <a href="https://x.com/iamsahaj_xyz">
                    <Icon name="twitter" class="text-white" />
                </a>
            </div>
        </div>
        <section class="mt-8">
            <p>
                Hey, I’m Sahaj—a software engineer at Vercel building <a
                    class="underline underline-offset-1 decoration-zinc-600 hover:decoration-current transition"
                    href="https://v0.app"
                    ><svg
                        fill="currentColor"
                        viewBox="0 0 147 70"
                        xmlns="http://www.w3.org/2000/svg"
                        aria-hidden="true"
                        class="size-7 pb-1 inline"
                        ><path
                            d="M56 50.2031V14H70V60.1562C70 65.5928 65.5928 70 60.1562 70C57.5605 70 54.9982 68.9992 53.1562 67.1573L0 14H19.7969L56 50.2031Z"
                        ></path><path
                            d="M147 56H133V23.9531L100.953 56H133V70H96.6875C85.8144 70 77 61.1856 77 50.3125V14H91V46.1562L123.156 14H91V0H127.312C138.186 0 147 8.81439 147 19.6875V56Z"
                        ></path></svg
                    ></a
                >
            </p>
            <br />
        </section>

        <section class="text-xs md:text-sm lg:text-base text-zinc-400">
            <p class="flex mb-1 gap-2 items-center italic">
                <Icon name="octicon:location-16" />
                Gurugram, India
            </p>
            <p class="flex mb-1 gap-2 items-center italic">
                <Icon name="octicon:briefcase-16" />
                Currently<span class="text-sm normal not-italic">▲</span>
                <a
                    class="underline underline-offset-1 decoration-zinc-600 hover:decoration-current transition"
                    href="https://vercel.com/home">@vercel</a
                >
            </p>
            <p class="flex mb-1 gap-2 items-center italic">
                <Icon name="octicon:book-16" />
                B.E. (Hons.) from BITS Pilani, Goa Campus
            </p>
        </section>
        <section>
            <br />
            <p>
                I'm a TypeScript nerd and I use neovim <i>(btw)</i>. I love building tools for devs
            </p>
        </section>

        <div class="text-zinc-400 text-xs md:text-sm lg:text-base mt-12">Blog</div>
        <section class="mt-2 flex flex-col gap-2">
            {
                availableBlogEntries.map((entry) => {
                    return (
                        <a
                            class="pb-2 px-4 bg-zinc-900 hover:bg-zinc-800 border border-zinc-800 transition rounded relative"
                            href={`/blog/${entry.slug}`}
                        >
                            <div class="mt-2 flex justify-between items-start gap-4">
                                <div>{entry.data.title}</div>
                                <Icon class="text-lg" name="octicon:arrow-up-right-16" />
                            </div>

                            <time
                                class="text-xs md:text-sm lg:text-base text-zinc-600 absolute top-0 -right-24 md:-right-32 md:block hidden"
                                datetime={entry.data.publishDate}
                            >
                                {new Date(entry.data.publishDate).toLocaleDateString("en-US", {
                                    year: "numeric",
                                    month: "short",
                                    day: "numeric",
                                })}
                            </time>
                        </a>
                    );
                })
            }
        </section>

        <div class="text-zinc-400 text-xs md:text-sm lg:text-base mt-12">Projects</div>
        <section class="grid grid-cols-1 md:grid-cols-2 gap-2 gap-x-10">
            <a href="https://github.com/jnsahaj/tweakcn" class="flex flex-col gap-2 group py-4 rounded">
                <div class="flex items-center gap-2">
                    <div
                        class="text-lg flex items-center gap-1 underline group-hover:decoration-current italic underline-offset-2 decoration-zinc-600 transition"
                    >
                        tweakcn
                    </div>
                    <StargazersCount client:load repo="tweakcn">
                        <Icon name="octicon:star-fill-16" class="text-yellow-500" />
                    </StargazersCount>
                </div>
                <p class="text-xs md:text-sm lg:text-base text-zinc-400">
                    A Powerful Theme Editor for shadcn/ui components with Beautiful themes. Integrates with Tailwind
                    CSS.
                </p>
            </a>
            <a href="https://github.com/jnsahaj/lumen" class="flex flex-col gap-2 b py-4 rounded group">
                <div class="flex items-center gap-2">
                    <div
                        class="text-lg flex items-center gap-1 underline group-hover:decoration-current italic underline-offset-2 decoration-zinc-600 transition"
                    >
                        lumen
                    </div>
                    <StargazersCount client:load repo="lumen">
                        <Icon name="octicon:star-fill-16" class="text-yellow-500" />
                    </StargazersCount>
                </div>
                <p class="text-xs md:text-sm lg:text-base text-zinc-400">
                    An AI-powered CLI tool to generate Git commit messages, summarize changes and more. Supports
                    multiple AI providers. Written in Rust.
                </p>
            </a>
            <a href="https://github.com/jnsahaj/monkey-rs" class="flex flex-col gap-2 b py-4 rounded group">
                <div
                    class="text-lg flex items-center gap-1 underline group-hover:decoration-current italic underline-offset-2 decoration-zinc-600 transition"
                >
                    monkey-rs
                </div>
                <p class="text-xs md:text-sm lg:text-base text-zinc-400">
                    An interpreter and [WIP] compiler for a fully-featured fictional language, written in Rust
                </p>
            </a>
            <a href="https://altr.iamsahaj.xyz" class="md:row-span-2 flex flex-col gap-2 group py-4 rounded">
                <div
                    class="text-lg flex items-center gap-1 underline group-hover:decoration-current italic underline-offset-2 decoration-zinc-600 transition"
                >
                    altr
                </div>
                <p class="text-xs md:text-sm lg:text-base text-zinc-400">
                    Smart refactoring tool that helps in effortlessly renaming code elements while maintaining your
                    preferred casing conventions
                </p>
            </a>
        </section>

        <section
            class="flex text-xs md:text-sm lg:text-base gap-6 justify-center mt-24 text-zinc-100 decoration-zinc-400 font-thin"
        >
            {
                links.map((link) => (
                    <a class="hover:underline underline-offset-4" href={link.href}>
                        {link.label}
                    </a>
                ))
            }
        </section>
    </main>
</Layout>
